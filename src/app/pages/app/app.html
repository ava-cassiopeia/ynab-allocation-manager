<header class="header">
  <section class="site-branding">
    <div class="logo">
      <img src="/images/logo_round.png" alt="Site logo - an abstract orchard of trees" />
    </div>
    <p class="site-title">YNAB Allocation Manager</p>
  </section>

  <div class="control-panel">
    <div class="controls">
      <ya-budget-selector-button />
    </div>
  </div>
</header>
<main class="main-content">
  <div #accountSidebar
      class="account-sidebar"
      [class.loading]="ynabStorage.status() === YnabStorageStatus.LOADING_BUDGET_DETAILS"
      [style.--fixed-height]="fixedHeight()">
    <div class="loading-overlay">
      <p>Loading...</p>
    </div>

    <ya-account-list />
  </div>

  <div class="categories"
      [class.loading]="ynabStorage.status() === YnabStorageStatus.LOADING_BUDGET_DETAILS">
    <div class="loading-overlay">
      <p>Loading...</p>
    </div>

    @if (ynabStorage.apiKey() === null) {
      <ya-ynab-token-form />
    } @else if (ynabStorage.selectedBudget() === null) {
      <ya-budget-selector />
    } @else {
      <ya-category-list />
    }
  </div>
</main>
