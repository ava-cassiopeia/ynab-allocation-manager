<header class="header">
  <section class="site-branding">
    <div class="logo">
      <img src="/images/logo_round.png" alt="The site logo; a happy cartoon yam with a big smile" />
    </div>
    <p class="site-title">Allocation Manager for YNAB</p>
    <span class="beta-text">Beta!</span>
  </section>

  <div class="control-panel">
    <ya-budget-selector-button [isLoading]="loading()" (newBudget)="selectNewBudget($event)" />

    <button class="ya-button site-theme" (click)="ynabStorage.refresh()">
      <mat-icon inline aria-hidden="true">refresh</mat-icon>
      Refresh
    </button>

    <ya-clear-allocations-button />

    <ya-beta-info-button />

    <ya-settings-button />

    <ya-logout-button />
  </div>
</header>

<div class="content-wrapper">
  <main class="main-content" [class.show-accounts]="showAccounts()">
    <div #accountSidebar
        class="account-sidebar card"
        [class]="contentClass()">
      <div class="loading-overlay">
        <p><ya-loading-icon /> Loading...</p>
      </div>
      <div class="no-budget-overlay">
        <p>Select a budget to get started!</p>
      </div>

      <div class="header">
        <h2 class="label">Accounts</h2>

        <ya-months-info-button />
      </div>

      <div class="content">
        <ya-accounts-summary />
        <ya-account-list />
      </div>
    </div>

    <div class="categories card"
        [class]="contentClass()">
      <div class="loading-overlay">
        <p><ya-loading-icon /> Loading...</p>
      </div>
      <div class="no-budget-overlay">
        <p>Select a budget to get started!</p>
      </div>

      <div class="header">
        <h2 class="label">Categories</h2>

        <ya-allocation-count-button />
      </div>

      <div class="content">
        <ya-category-list />
      </div>
    </div>
  </main>
</div>

<nav class="section-navigation" aria-label="Section navigation">
  <div class="button-rail">
    <button [class.current]="showAccounts()" (click)="showAccounts.set(true)">
      Accounts
    </button>
    <button [class.current]="!showAccounts()" (click)="showAccounts.set(false)">
      Categories
    </button>
  </div>
</nav>
